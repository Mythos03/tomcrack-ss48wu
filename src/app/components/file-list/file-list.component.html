<div class="file-list-container">
  <mat-card *ngFor="let file of files" class="file-card">
    <mat-card-header>
      <mat-card-title>{{ file.name }}</mat-card-title>
      <mat-card-subtitle>
        <div class="file-info">
          <span>Méret: {{ file.size | fileSize }}</span>
          <span class="dot-separator">•</span>
          <span>Feltöltve: {{ file.uploadDate | date:'yyyy.MM.dd HH:mm' }}</span>
        </div>
      </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content *ngIf="file.description">
      <p class="description-text">{{ file.description }}</p>
    </mat-card-content>

    <mat-divider></mat-divider>

    <mat-card-actions align="end" class="action-buttons">
      <button
        mat-stroked-button
        color="primary"
        (click)="downloadFile(file)"
        [attr.aria-label]="'Fájl letöltése: ' + file.name">
        <mat-icon aria-hidden="true">cloud_download</mat-icon>
        <span>Letöltés</span>
      </button>
      <button
        mat-stroked-button
        color="accent"
        (click)="editFile(file)"
        aria-label="Fájl szerkesztése">
        <mat-icon aria-hidden="true">edit</mat-icon>
        <span>Szerkesztés</span>
      </button>
      <button
        mat-stroked-button
        color="warn"
        (click)="deleteFile(file)"
        aria-label="Fájl törlése">
        <mat-icon aria-hidden="true">delete</mat-icon>
        <span>Törlés</span>
      </button>
    </mat-card-actions>
  </mat-card>

  <div *ngIf="loading" class="loading-spinner">
    <mat-spinner diameter="40"></mat-spinner>
  </div>

  <div *ngIf="!loading && files.length === 0" class="no-files">
    <p>Nincsenek feltöltött fájlok</p>
  </div>
</div>
